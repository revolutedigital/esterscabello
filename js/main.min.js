!function(){"use strict";const e=document.getElementById("header"),t=document.getElementById("menu-toggle"),n=document.getElementById("nav"),o=document.querySelectorAll(".faq-question"),s=document.querySelectorAll(".nav-link");function i(){const t=window.scrollY;if(t>50?e.classList.add("scrolled"):e.classList.remove("scrolled"),t>0){const n=Math.min(.98,.85+t/1e3);e.style.setProperty("--header-opacity",n)}}function a(){const e=document.querySelectorAll("\n            .problem-card,\n            .service-card,\n            .testimonial-card,\n            .differential-item,\n            .about-image,\n            .about-content,\n            .section-header,\n            .faq-item,\n            .hero-content,\n            .cta-content,\n            .post-card,\n            .sidebar-widget\n        ");if(!("IntersectionObserver"in window))return void e.forEach(e=>{e.style.opacity="1",e.style.transform="none"});const t=new IntersectionObserver(e=>{e.forEach((e,n)=>{if(e.isIntersecting){const n=function(e){const t=e.parentElement,n=(t?Array.from(t.children).filter(e=>e.classList.contains("animate-ready")):[]).indexOf(e);if(e.classList.contains("problem-card")||e.classList.contains("service-card")||e.classList.contains("testimonial-card")||e.classList.contains("differential-item"))return 100*n;return 50*n}(e.target);setTimeout(()=>{e.target.classList.add("animate-in")},n),t.unobserve(e.target)}})},{root:null,rootMargin:"0px 0px -50px 0px",threshold:.1});e.forEach((e,n)=>{e.classList.add("animate-ready"),e.dataset.animIndex=n,t.observe(e)})}function c(){const e=document.querySelectorAll(".stat-number, [data-counter]");if(!e.length)return;const t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(!function(e){const t=e.textContent,n=t.match(/(\d+)/);if(!n)return;const o=parseInt(n[1]),s=t.substring(0,t.indexOf(n[1])),i=t.substring(t.indexOf(n[1])+n[1].length),a=60;let c=0,l=0;const d=setInterval(()=>{l++,c=Math.min(Math.round(r(l/a)*o),o),e.textContent=s+c+i,l>=a&&(clearInterval(d),e.textContent=t)},2e3/a)}(e.target),t.unobserve(e.target))})},{threshold:.5});e.forEach(e=>t.observe(e))}function r(e){return 1-Math.pow(1-e,4)}function l(){t.classList.toggle("active"),n.classList.toggle("mobile-open"),document.body.classList.toggle("menu-open")}function d(){t.classList.remove("active"),n.classList.remove("mobile-open"),document.body.classList.remove("menu-open")}function u(e){const t=e.currentTarget,n=t.nextElementSibling,s="true"===t.getAttribute("aria-expanded");o.forEach(e=>{if(e!==t){e.setAttribute("aria-expanded","false");const t=e.nextElementSibling;t.style.maxHeight=null,t.classList.remove("open")}}),t.setAttribute("aria-expanded",!s),s?(n.style.maxHeight=null,n.classList.remove("open")):(n.classList.add("open"),n.style.maxHeight=n.scrollHeight+"px")}function m(t){const n=t.currentTarget.getAttribute("href");if(n.startsWith("#")){t.preventDefault();const o=document.querySelector(n);if(o){const t=e.offsetHeight;!function(e,t){const n=window.pageYOffset,o=e-n;let s=null;function i(e){null===s&&(s=e);const a=e-s,c=r(Math.min(a/t,1));window.scrollTo(0,n+o*c),a<t&&requestAnimationFrame(i)}requestAnimationFrame(i)}(o.getBoundingClientRect().top+window.pageYOffset-t-20,800),d(),history.pushState(null,null,n)}}}function p(){const t=document.querySelectorAll("section[id]"),n=window.scrollY+e.offsetHeight+100;t.forEach(e=>{const t=e.offsetTop,o=e.offsetHeight,i=e.getAttribute("id"),a=document.querySelector(`.nav-link[href="#${i}"]`);a&&n>=t&&n<t+o&&(s.forEach(e=>e.classList.remove("active")),a.classList.add("active"))})}function f(e){const t=e.currentTarget,n=t.closest("section")?.id||"unknown";"function"==typeof gtag&&gtag("event","whatsapp_click",{event_category:"engagement",event_label:n})}function g(){"function"==typeof gtag&&gtag("event","phone_click",{event_category:"engagement",event_label:"contact"})}function h(){!function(){const e=document.createElement("style");e.textContent='\n            .animate-ready {\n                opacity: 0;\n                transform: translateY(30px);\n                transition: opacity 0.6s cubic-bezier(0.16, 1, 0.3, 1),\n                            transform 0.6s cubic-bezier(0.16, 1, 0.3, 1);\n            }\n\n            .animate-in {\n                opacity: 1 !important;\n                transform: translateY(0) !important;\n            }\n\n            .text-reveal {\n                opacity: 0;\n                transform: translateY(20px);\n                transition: opacity 0.8s ease, transform 0.8s ease;\n            }\n\n            .text-reveal.revealed {\n                opacity: 1;\n                transform: translateY(0);\n            }\n\n            .testimonial-card.highlight {\n                box-shadow: 0 20px 60px rgba(26, 107, 92, 0.15);\n            }\n\n            img[loading="lazy"] {\n                opacity: 1;\n                transition: opacity 0.3s ease;\n            }\n\n            img[loading="lazy"].loaded {\n                opacity: 1;\n            }\n        ',document.head.appendChild(e)}(),i(),p(),function(){let e;window.addEventListener("scroll",()=>{e||(e=setTimeout(()=>{i(),p(),e=null},10))},{passive:!0}),t&&t.addEventListener("click",l),o.forEach(e=>{e.addEventListener("click",u)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",m)}),document.querySelectorAll('a[href*="wa.me"]').forEach(e=>{e.addEventListener("click",f)}),document.querySelectorAll('a[href^="tel:"]').forEach(e=>{e.addEventListener("click",g)}),document.addEventListener("click",e=>{n&&n.classList.contains("mobile-open")&&!n.contains(e.target)&&t&&!t.contains(e.target)&&d()}),document.addEventListener("keydown",e=>{"Escape"===e.key&&n&&n.classList.contains("mobile-open")&&d()}),window.addEventListener("resize",()=>{window.innerWidth>768&&n&&n.classList.contains("mobile-open")&&d()})}(),function(){const e=document.querySelectorAll('img[loading="lazy"]');if("IntersectionObserver"in window){const t=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){const n=e.target;if(n.complete&&0!==n.naturalHeight)return n.classList.add("loaded"),void t.unobserve(n);n.dataset.src&&(n.src=n.dataset.src),n.onload=()=>{n.classList.add("loaded")},n.onerror=()=>{n.classList.add("loaded")},t.unobserve(n)}})},{rootMargin:"50px"});e.forEach(e=>t.observe(e))}}(),a(),function(){const e=document.querySelector(".hero h1"),t=document.querySelector(".hero .hero-subtitle");e&&(e.classList.add("text-reveal"),setTimeout(()=>e.classList.add("revealed"),300)),t&&(t.classList.add("text-reveal"),setTimeout(()=>t.classList.add("revealed"),600))}(),c(),document.querySelectorAll(".btn-primary, .btn-secondary").forEach(e=>{e.addEventListener("mousemove",t=>{const n=e.getBoundingClientRect(),o=t.clientX-n.left-n.width/2,s=t.clientY-n.top-n.height/2;e.style.setProperty("--magnetic-x",.2*o+"px"),e.style.setProperty("--magnetic-y",.2*s+"px")}),e.addEventListener("mouseleave",()=>{e.style.setProperty("--magnetic-x","0px"),e.style.setProperty("--magnetic-y","0px")})}),document.querySelectorAll(".service-card, .problem-card").forEach(e=>{e.addEventListener("mousemove",t=>{const n=e.getBoundingClientRect(),o=(t.clientX-n.left)/n.width*100,s=(t.clientY-n.top)/n.height*100;e.style.setProperty("--glow-x",`${o}%`),e.style.setProperty("--glow-y",`${s}%`)})}),document.querySelectorAll(".hero-decoration").forEach((e,t)=>{e.style.animationDelay=.5*t+"s"}),function(){const e=document.querySelectorAll(".testimonial-card");if(e.length<2)return;let t=0;setInterval(()=>{e.forEach((e,n)=>{e.classList.toggle("highlight",n===t)}),t=(t+1)%e.length},5e3)}(),function(){const e=document.getElementById("schedulePopupOverlay"),t=document.getElementById("schedulePopup"),n=document.getElementById("popupClose"),o=document.getElementById("popupLater");if(!e||!t)return;if(!sessionStorage.getItem("schedulePopupShown")){setTimeout(()=>{s()},3e4);let e=!1;window.addEventListener("scroll",()=>{e||window.scrollY/(document.documentElement.scrollHeight-window.innerHeight)*100>60&&(e=!0,s())},{passive:!0})}function s(){sessionStorage.getItem("schedulePopupShown")||(e.classList.add("active"),t.classList.add("active"),document.body.classList.add("popup-open"),sessionStorage.setItem("schedulePopupShown","true"))}function i(){e.classList.remove("active"),t.classList.remove("active"),document.body.classList.remove("popup-open")}n&&n.addEventListener("click",i),o&&o.addEventListener("click",i),e.addEventListener("click",t=>{t.target===e&&i()}),document.addEventListener("keydown",e=>{"Escape"===e.key&&t.classList.contains("active")&&i()})}(),function(){const e=["/servicos/","/blog/","/servicos/psicoterapia-individual/","/servicos/terapia-de-casal/"];"IntersectionObserver"in window&&setTimeout(()=>{e.forEach(e=>{const t=document.createElement("link");t.rel="prefetch",t.href=e,document.head.appendChild(t)})},3e3)}()}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",h):h()}();